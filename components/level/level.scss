@import '../variables.scss';

html {
  // Firefox
  overscroll-behavior: none;
  body {
    // Chrome
    overscroll-behavior: none;
    // Safari?
  }
}

.root {
  width: 100%;
  height: 100%;
  background: $level-background;
  border: 1px solid #000;

  .keys {
    width: 100%;
    height: 100%;
    outline: none;

    .menu {
      display: flex;
      border-bottom: 1px solid #ddd;
      background: black;
      
      box-sizing: border-box;
      height: 25px;
      padding: 2px;
    
      .main-menu {
        display: flex;
      }
      
      .edit-menu {
        flex: 1;
        display: flex;
    
        .filename-input {
          padding: 0 4px;
          font-family: 'Courier New', Courier, monospace;
          outline: none;
          width: 80px;
        }
      }
    
      .button {
        color: black;
        margin-left: 1px;
        outline: 0;
        border: 0;
    
        cursor: pointer;
        font-family: 'Courier New', Courier, monospace;
    
        &:hover {
          text-decoration: underline;
        }
      }
    }
  }
}


.viewport {
  width: 100%;
  height: calc(100% - 25px);
  position: relative;
  overflow: hidden;

  .svg {
    width: 100%;
    height: 100%;
    pointer-events: none;
  
    .mouse-rect {
      pointer-events: all;
      width: 100%;
      height: 100%;
      fill: none;
    }

    .base-floor {
      fill: $level-floor-fill;
      stroke-width: 1;
      stroke: rgba(0,0,0,1);
    }
  
    .wall-seg {
      stroke: rgba(0, 0, 0, 1);
      stroke-width: 1;
      // Ensures correct overlap
      stroke-linecap: square;
    }
  
    .navigable {
      fill: $level-navigable-fill;
      stroke: rgba(0, 0, 0, 0.5);
      stroke-width: 0.3;
      // fill: url(#stripe-pattern);
    }
  
    .triangle {
      fill: none;
      stroke: $level-navigable-stroke;
      stroke-width: 0.2;
      stroke-linecap: round;
    }

    .svg-nav-node {
      fill: $level-node-color;
    }

    .svg-nav-edge {
      stroke: $level-node-color;
      stroke-width: 0.5;
    }
  
    .cursor {
      fill: rgba(180, 180, 220, 0.2);
      pointer-events: none;
    
      .highlight {
        fill: rgba(200, 0, 0, 0.5);
      }
    }
    
    .metas {
      fill: white;
      stroke: black;
      stroke-width: 0.2;
    
      .drag-indicator {
        line {
          stroke-width: 0.1;
          stroke: #000;
        }
        circle {
          stroke-width: 0.1;
          stroke: #000;
          fill: #fff;
        }
      }
    }

    .nav-paths {
      circle {
        fill: black;
      }
      line {
        stroke-width: 0.1;
        stroke: black;
      }
    }

    .svg-grid {
      pointer-events: none;
    
      &-path {
        stroke: $level-grid-color;
      }
      &-refined-path {
        stroke: $level-grid-refined-color;
      }
    }
  }

  .overlay-container {
    position: absolute;
    top: 0px;

    .overlay {
      position: relative;
    
      .meta-popover  {
        position: absolute;
        background: white;
        border: 1px solid rgba(0, 0, 0, 0.2);
        border-radius: 1px;
        top: 0px;
        
        transform: scale(0.5);
        transform-origin: top left;

        .content {
          box-sizing: border-box;
          width: fit-content;
          height: fit-content;
          padding: 4px 2px;

          font-family: 'Courier New', Courier, monospace;
          font-size: 6pt;
          user-select: none;

          input {
            width: 60px;
            font-family: 'Courier New', Courier, monospace;
            outline: none;
            border: none;
            padding: 0 0 2px;
            font-size: 6pt;
          }
          .tags {
            display: flex;
            flex-wrap: wrap;
            user-select: none;
            

            .tag {
              cursor: pointer;
              padding: 0 2px;
              background: #eee;
              font-size: smaller;
            }
          }
        }
      }
    }
  }
}
